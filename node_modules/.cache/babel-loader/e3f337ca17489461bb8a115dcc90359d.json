{"ast":null,"code":"import _slicedToArray from\"/home/albert/Desktop/combine-project/react-authentication/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useRef,useState}from\"react\";import classes from\"./Checkout.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var isEmpty=function isEmpty(empty){return empty.trim()===\"\";};var isFiveChars=function isFiveChars(char){return char.trim().length===5;};var Checkout=function Checkout(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),street=_useState4[0],setStreet=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),postalCode=_useState6[0],setPostalCode=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),city=_useState8[0],setCity=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),valid=_useState10[0],setValid=_useState10[1];var _useState11=useState({name:true,street:true,postalCode:true,city:true}),_useState12=_slicedToArray(_useState11,2),formInputValidity=_useState12[0],setFormInputValidity=_useState12[1];var handleName=function handleName(e){setName(e.target.value);if(isEmpty){setValid(true);}};var handleStreet=function handleStreet(e){setStreet(e.target.value);if(isEmpty){setValid(true);}};var handlePostalCode=function handlePostalCode(e){setPostalCode(e.target.value);if(!isFiveChars){setValid(true);}};var handleCity=function handleCity(e){setCity(e.target.value);if(isEmpty){setValid(true);}};var nameInputRef=useRef();var streetInputRef=useRef();var postalCodeInputRef=useRef();var cityInputRef=useRef();var amountInputRef=useRef();var confirmHandler=function confirmHandler(event){setValid(false);event.preventDefault();var nameInput=nameInputRef.current.value;var streetInput=streetInputRef.current.value;var postalCodeInput=postalCodeInputRef.current.value;var cityInput=cityInputRef.current.value;var amountInput=amountInputRef.current.value;var enteredNameIsValid=!isEmpty(nameInput);var enteredStreetIsValid=!isEmpty(streetInput);var enteredCityIsValid=!isEmpty(cityInput);var enteredPostalCodeIsValid=isFiveChars(postalCodeInput);var enteredAmountIsValid=!isEmpty(cityInput);setFormInputValidity({name:enteredNameIsValid,street:enteredStreetIsValid,postalCode:enteredPostalCodeIsValid,city:enteredCityIsValid,amount:enteredAmountIsValid});var formIsValid=enteredNameIsValid&&enteredStreetIsValid&&enteredPostalCodeIsValid&&enteredCityIsValid&&enteredAmountIsValid;if(!formIsValid){return;}props.onConfirm({name:nameInput,street:streetInput,postalCode:postalCodeInput,city:cityInput,amount:amountInput});// setValid(true)\n};var separator=function separator(amt){var str=amt.toString().split(\".\");str[0]=str[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\");return str.join(\".\");};var nameControlClasses=\"\".concat(classes.control,\" \").concat(formInputValidity.name?\"\":classes.invalid);var streetControlClasses=\"\".concat(classes.control,\" \").concat(formInputValidity.street?\"\":classes.invalid);var postalCodeControlClasses=\"\".concat(classes.control,\" \").concat(formInputValidity.postalCode?\"\":classes.invalid);var cityControlClasses=\"\".concat(classes.control,\" \").concat(formInputValidity.city?\"\":classes.invalid);var validButton=valid&&name&&street&&postalCode&&city?\"Confirm\":\"Type\";return/*#__PURE__*/_jsxs(\"form\",{className:classes.form,onSubmit:confirmHandler,children:[/*#__PURE__*/_jsxs(\"div\",{className:nameControlClasses,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"amount\",children:\"Total Amount\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:separator(props.totalPrice),ref:amountInputRef,id:\"amount\"}),formInputValidity.amount&&/*#__PURE__*/_jsx(\"p\",{children:\"Please make sure you add item(s) to the cart\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:nameControlClasses,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Your Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:handleName,value:name,ref:nameInputRef,id:\"name\"}),!formInputValidity.name&&/*#__PURE__*/_jsx(\"p\",{children:\"Please enter a valid name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:streetControlClasses,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"street\",children:\"Street\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:handleStreet,value:street,ref:streetInputRef,id:\"street\"}),!formInputValidity.street&&/*#__PURE__*/_jsx(\"p\",{children:\"Please enter a valid street address\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:postalCodeControlClasses,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"postal\",children:\"Postal Code\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handlePostalCode,value:postalCode,ref:postalCodeInputRef,id:\"postal\"}),!formInputValidity.postalCode&&/*#__PURE__*/_jsx(\"p\",{children:\"Please enter a valid postal code (5 characters long)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:cityControlClasses,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"city\",children:\"City\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handleCity,value:city,ref:cityInputRef,id:\"city\"}),!formInputValidity.city&&/*#__PURE__*/_jsx(\"p\",{children:\"Please enter a valid city address\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.actions,children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:props.closeCheckout,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{className:classes.submit,children:validButton})]})]});};export default Checkout;","map":{"version":3,"names":["useRef","useState","classes","isEmpty","empty","trim","isFiveChars","char","length","Checkout","props","name","setName","street","setStreet","postalCode","setPostalCode","city","setCity","valid","setValid","formInputValidity","setFormInputValidity","handleName","e","target","value","handleStreet","handlePostalCode","handleCity","nameInputRef","streetInputRef","postalCodeInputRef","cityInputRef","amountInputRef","confirmHandler","event","preventDefault","nameInput","current","streetInput","postalCodeInput","cityInput","amountInput","enteredNameIsValid","enteredStreetIsValid","enteredCityIsValid","enteredPostalCodeIsValid","enteredAmountIsValid","amount","formIsValid","onConfirm","separator","amt","str","toString","split","replace","join","nameControlClasses","control","invalid","streetControlClasses","postalCodeControlClasses","cityControlClasses","validButton","form","totalPrice","actions","closeCheckout","submit"],"sources":["/home/albert/Desktop/combine-project/react-authentication/src/components/Cart/Checkout.jsx"],"sourcesContent":["import { useRef, useState } from \"react\";\nimport classes from \"./Checkout.module.css\";\n\nconst isEmpty = (empty) => empty.trim() === \"\";\nconst isFiveChars = (char) => char.trim().length === 5;\n\nconst Checkout = (props) => {\n  const [name, setName] = useState('')\n  const [street, setStreet] = useState('')\n  const [postalCode, setPostalCode] = useState('')\n  const [city, setCity] = useState('')\n  const [valid, setValid] = useState(false)\n  const [formInputValidity, setFormInputValidity] = useState({\n    name: true,\n    street: true,\n    postalCode: true,\n    city: true,\n  });\n\n  const handleName = (e) => {\n    setName(e.target.value)\n    if(isEmpty){\n      setValid(true)\n    }\n  }\n\n  const handleStreet = (e) => {\n    setStreet(e.target.value)\n    if(isEmpty){\n      setValid(true)\n    }\n  }\n\n\n  const handlePostalCode = (e) => {\n    setPostalCode(e.target.value)\n    if(!isFiveChars){\n      setValid(true)\n    }\n  }\n\n  const handleCity = (e) => {\n    setCity(e.target.value)\n    if(isEmpty){\n      setValid(true)\n    }\n  }\n  const nameInputRef = useRef();\n  const streetInputRef = useRef();\n  const postalCodeInputRef = useRef();\n  const cityInputRef = useRef();\n  const amountInputRef = useRef();\n\n  const confirmHandler = (event) => {\n    setValid(false);\n    event.preventDefault();\n    const nameInput = nameInputRef.current.value;\n    const streetInput = streetInputRef.current.value;\n    const postalCodeInput = postalCodeInputRef.current.value;\n    const cityInput = cityInputRef.current.value;\n    const amountInput = amountInputRef.current.value;\n\n    const enteredNameIsValid = !isEmpty(nameInput);\n    const enteredStreetIsValid = !isEmpty(streetInput);\n    const enteredCityIsValid = !isEmpty(cityInput);\n    const enteredPostalCodeIsValid = isFiveChars(postalCodeInput);\n    const enteredAmountIsValid = !isEmpty(cityInput);\n\n\n    setFormInputValidity({\n      name: enteredNameIsValid,\n      street: enteredStreetIsValid,\n      postalCode: enteredPostalCodeIsValid,\n      city: enteredCityIsValid,\n      amount: enteredAmountIsValid,\n    });\n\n    const formIsValid =\n      enteredNameIsValid &&\n      enteredStreetIsValid &&\n      enteredPostalCodeIsValid &&\n      enteredCityIsValid && enteredAmountIsValid\n\n\n    if (!formIsValid) {\n      return;\n    }\n\n    \n\n    props.onConfirm({\n        name: nameInput,\n        street: streetInput,\n        postalCode: postalCodeInput,\n        city: cityInput,\n        amount: amountInput,\n    })\n    // setValid(true)\n\n  };\n\n\n  const separator = (amt) => {\n    var str = amt.toString().split(\".\");\n    str[0] = str[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n    return str.join(\".\");\n  };\n\n  const nameControlClasses = `${classes.control} ${\n    formInputValidity.name ? \"\" : classes.invalid\n  }`;\n  const streetControlClasses = `${classes.control} ${\n    formInputValidity.street ? \"\" : classes.invalid\n  }`;\n  const postalCodeControlClasses = `${classes.control} ${\n    formInputValidity.postalCode ? \"\" : classes.invalid\n  }`;\n  const cityControlClasses = `${classes.control} ${\n    formInputValidity.city ? \"\" : classes.invalid\n  }`;\n\n  const validButton = valid && name && street && postalCode && city ?  \"Confirm\" : \"Type\"\n  return (\n    <form className={classes.form} onSubmit={confirmHandler}>\n        <div className={nameControlClasses}>\n        <label htmlFor=\"amount\">Total Amount</label>\n        <input type=\"text\" value={separator(props.totalPrice)} ref={amountInputRef} id=\"amount\" />\n        {formInputValidity.amount && <p>Please make sure you add item(s) to the cart</p>}\n      </div>\n      <div className={nameControlClasses}>\n        <label htmlFor=\"name\">Your Name</label>\n        <input type=\"text\" onChange={handleName} value={name} ref={nameInputRef} id=\"name\" />\n        {!formInputValidity.name && <p>Please enter a valid name</p>}\n      </div>\n      <div className={streetControlClasses}>\n        <label htmlFor=\"street\">Street</label>\n        <input type=\"text\" onChange={handleStreet} value={street} ref={streetInputRef} id=\"street\" />\n        {!formInputValidity.street && (\n          <p>Please enter a valid street address</p>\n        )}\n      </div>\n      <div className={postalCodeControlClasses}>\n        <label htmlFor=\"postal\">Postal Code</label>\n        <input onChange={handlePostalCode} value={postalCode} ref={postalCodeInputRef} id=\"postal\" />\n        {!formInputValidity.postalCode && (\n          <p>Please enter a valid postal code (5 characters long)</p>\n        )}\n      </div>\n      <div className={cityControlClasses}>\n        <label htmlFor=\"city\">City</label>\n        <input onChange={handleCity} value={city} ref={cityInputRef} id=\"city\" />\n        {!formInputValidity.city && <p>Please enter a valid city address</p>}\n      </div>\n      <div className={classes.actions}>\n        <button type=\"button\" onClick={props.closeCheckout}>\n          Cancel\n        </button>\n\n        <button className={classes.submit}>{validButton}</button>\n      </div>\n    </form>\n  );\n};\n\nexport default Checkout;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}